jQuery(function(t){t(".so-widget-sow-image, .so-widget-sow-image-grid, .so-widget-sow-simple-masonry").each(function(o,e){var i=t(e);if(i.data("tooltip-enabled")){var s=i.data("tooltip-theme");i.find("img").each(function(o,e){var i=t(e),r=i.attr("title");if(r){i.attr("title",null);var a=t('<div class="so-premium-tooltip">'+r+'<div class="callout"></div></div>');a.css("visibility","hidden"),a.addClass("theme-"+s),a.css("max-width",i.outerWidth());var n=i.parent(),l=n.is(".sow-masonry-grid-item");l?n.parent().append(a):n.append(a);var u={top:0,left:0},d=a.find(".callout"),m=function(){var t=l?n.position():i.position(),o={top:t.top+u.top-a.outerHeight(),left:t.left+u.left-.5*a.outerWidth()};a.css(o)},p=function(){m(),a.fadeIn(100)};"follow_cursor"===soPremiumTooltipOptions.position&&a.css("pointer-events","none");var f;a.hide(),a.css("visibility","visible"),n.on(soPremiumTooltipOptions.show_trigger,function(o){var e=a.get(0);if(a.is(":visible")||o.target===e||o.relatedTarget===e||o.relatedTarget===i.get(0))return!1;var s=l?n:i;d.removeClass("bottom").addClass("top"),d.css("pointer-events","none");var r=.5*d.outerHeight();switch(soPremiumTooltipOptions.position){case"follow_cursor":n.on("mousemove",function(t){u.top=t.offsetY-r;var o=i.outerWidth(),e=n.outerWidth(),s=o>e?.5*(o-e):0;u.left=t.offsetX-s,m()});break;case"center":u.top=.5*s.outerHeight()-r,u.left=.5*s.outerWidth();break;case"top":u.top=0-r,u.left=.5*s.outerWidth();break;case"bottom":d.removeClass("top").addClass("bottom"),u.top=s.outerHeight()+a.outerHeight()+r,u.left=.5*s.outerWidth()}if("mouseover"===soPremiumTooltipOptions.show_trigger&&soPremiumTooltipOptions.show_delay&&soPremiumTooltipOptions.show_delay>0?(f&&clearTimeout(f),f=setTimeout(function(){f=null,p()},soPremiumTooltipOptions.show_delay)):p(),"click"===soPremiumTooltipOptions.hide_trigger){var c=function(){a.fadeOut(100),t(window).off("click",c)};setTimeout(function(){t(window).on("click",c)},100)}}),"mouseout"===soPremiumTooltipOptions.hide_trigger&&(n.on("mouseout",function(){f&&clearTimeout(f),event.relatedTarget===a.get(0)||t.contains(n.get(0),event.relatedTarget)||(a.fadeOut(100),n.off("mousemove",m))}),l&&a.on("mouseout",function(t){t.relatedTarget!==i.get(0)&&(a.fadeOut(100),n.off("mousemove",m))}))}})}})});